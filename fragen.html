<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sicherheits-Fragebogen</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
<link href="/sicher/favicon.ico" rel="icon" type="image/x-icon">
<link href="/sicher/fragen.json" rel="icon" type="image/x-icon" />
    <style>
      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
      }

      body {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          line-height: 1.6;
          color: #333;
          background-color: #f5f5f5;
          padding: 15px; /* Slightly reduced padding for smaller screens */
          -webkit-touch-callout: none;
          -webkit-user-select: none;
          -khtml-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
      }

      .container {
          max-width: 1200px;
          margin: 0 auto;
          background: white;
          border-radius: 10px;
          box-shadow: 0 0 20px rgba(0,0,0,0.1);
          overflow: hidden;
      }

      .header {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          padding: 30px;
          text-align: center;
      }

      .header h1 {
          font-size: 2.5em;
          margin-bottom: 10px;
      }

      .form-info {
          background: #f8f9fa;
          padding: 25px;
          margin: 0;
          border-bottom: 1px solid #e2e8f0;
      }

      .form-info h2 {
          color: #2d3748;
          margin-bottom: 20px;
          font-size: 1.3em;
      }

      .info-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
      }

      .form-group {
          display: flex;
          flex-direction: column;
      }

      .form-group label {
          font-weight: 600;
          margin-bottom: 5px;
          color: #2d3748;
      }

      .form-group input {
          padding: 12px;
          border: 2px solid #e2e8f0;
          border-radius: 8px;
          font-size: 16px;
          transition: border-color 0.2s ease;
          -webkit-appearance: none;
      }

      .form-group input:focus {
          outline: none;
          border-color: #667eea;
      }

      .content {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 30px;
          padding: 30px;
      }

      .questions-section {
          background: #f8f9fa;
          padding: 25px;
          border-radius: 8px;
          border-left: 4px solid #667eea;
      }

      .measures-section {
          background: #fff5f5;
          padding: 25px;
          border-radius: 8px;
          border-left: 4px solid #e53e3e;
      }

      .section-title {
          font-size: 1.5em;
          margin-bottom: 20px;
          color: #2d3748;
          border-bottom: 2px solid #e2e8f0;
          padding-bottom: 10px;
      }

      .category-section {
          margin-bottom: 30px;
          border: 1px solid #e2e8f0;
          border-radius: 8px;
          overflow: hidden;
      }

      .category-title {
          background: #667eea;
          color: white;
          padding: 15px 20px;
          margin: 0;
          font-size: 1.2em;
          font-weight: 600;
      }

      .question {
          background: white;
          padding: 20px;
          border-bottom: 1px solid #e2e8f0;
          transition: background-color 0.2s ease;
          display: flex; /* Make it a flex container */
          flex-direction: column; /* Stack children vertically */
          gap: 10px; /* Space between question row and measure display */
      }

      .question:last-child {
          border-bottom: none;
      }

      .question:hover {
          background-color: #f7fafc;
      }

      .question-row {
          display: flex; /* Make this row horizontal */
          justify-content: space-between; /* Push question text to left, radio group to right */
          align-items: center; /* Vertically align items */
          flex-wrap: wrap; /* Allow wrapping on smaller screens */
          gap: 15px; /* Space between question text and radio group */
      }

      .question-text {
          font-weight: 600;
          color: #2d3748;
          font-size: 1em;
          flex-grow: 1; /* Allow text to take available space */
          margin-bottom: 0; /* Remove original margin-bottom */
      }

      .radio-group {
          display: flex;
          gap: 15px;
          flex-wrap: wrap;
      }

      .radio-option {
          display: flex;
          align-items: center;
          gap: 8px;
          cursor: pointer;
          padding: 12px 20px;
          border-radius: 25px;
          transition: background-color 0.2s ease;
          min-height: 44px; /* Ensure good touch target size */
          touch-action: manipulation;
      }

      .radio-option:hover, .radio-option:active {
          background-color: #e2e8f0;
      }

      .radio-option input[type="radio"] {
          margin: 0;
          transform: scale(1.5);
          -webkit-appearance: none;
          appearance: none;
          width: 20px;
          height: 20px;
          border: 2px solid #cbd5e0;
          border-radius: 50%;
          position: relative;
      }

      .radio-option input[type="radio"]:checked {
          border-color: #667eea;
      }

      .radio-option input[type="radio"]:checked::after {
          content: '';
          width: 10px;
          height: 10px;
          border-radius: 50%;
          background: #667eea;
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
      }

      .radio-option.yes {
          color: #38a169;
      }

      .radio-option.no {
          color: #e53e3e;
      }

      .radio-option.na {
          color: #718096;
      }

      .measure-display {
          background: #fff5f5; /* Light red background */
          color: #e53e3e; /* Red text color */
          padding: 10px 15px;
          border-radius: 6px;
          border-left: 3px solid #e53e3e; /* Red left border */
          font-size: 0.95em;
          font-weight: 500;
          margin-top: 5px; /* Space from the question row */
      }

      .signature-section {
          background: #f8f9fa;
          padding: 25px;
          margin: 30px;
          border-radius: 8px;
          border-left: 4px solid #667eea;
      }

      .signature-title {
          font-size: 1.3em;
          margin-bottom: 20px;
          color: #2d3748;
      }

      .signature-canvas {
          border: 2px solid #e2e8f0;
          border-radius: 8px;
          background: white;
          cursor: crosshair;
          touch-action: none;
          width: 100%;
          max-width: 500px;
          height: 200px;
      }

      .signature-controls {
          margin-top: 15px;
          display: flex;
          gap: 10px;
          flex-wrap: wrap;
      }

      .action-buttons {
          background: #f8f9fa;
          padding: 30px;
          text-align: center;
          border-top: 1px solid #e2e8f0;
          margin-top: 30px;
      }

      .btn {
          display: inline-block;
          padding: 12px 24px;
          margin: 0 10px 10px 10px;
          background: #667eea;
          color: white;
          text-decoration: none;
          border-radius: 8px;
          border: none;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          -webkit-appearance: none;
          touch-action: manipulation;
      }

      .btn:hover, .btn:active {
          background: #5a67d8;
          transform: translateY(-2px);
      }

      .btn-secondary {
          background: #718096;
      }

      .btn-secondary:hover, .btn-secondary:active {
          background: #4a5568;
      }

      .btn-success {
          background: #38a169;
      }

      .btn-success:hover, .btn-success:active {
          background: #2f855a;
      }

      .btn-warning {
          background: #d69e2e;
      }

      .btn-warning:hover, .btn-warning:active {
          background: #b7791f;
      }

      .measures-table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
          background: white;
          border-radius: 8px;
          overflow: hidden;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }

      .measures-table th {
          background: #e53e3e;
          color: white;
          padding: 15px;
          text-align: left;
          font-weight: 600;
      }

      .measures-table td {
          padding: 15px;
          border-bottom: 1px solid #e2e8f0;
      }

      .measures-table tr:last-child td {
          border-bottom: none;
      }

      .measures-table tr:nth-child(even) {
          background-color: #f7fafc;
      }

      .measure-priority {
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 0.8em;
          font-weight: 600;
          min-width: 60px;
          text-align: center;
      }

      .measure-priority.high {
          background: #fed7d7;
          color: #c53030;
      }

      .measure-priority.medium {
          background: #feebc8;
          color: #dd6b20;
      }

      .measure-priority.low {
          background: #c6f6d5;
          color: #2f855a;
      }

      .no-measures {
          text-align: center;
          color: #718096;
          font-style: italic;
          padding: 40px;
      }

      .summary {
          grid-column: 1 / -1;
          background: #edf2f7;
          padding: 20px;
          border-radius: 8px;
          margin-top: 20px;
          text-align: center;
      }

      .summary-stats {
          display: flex;
          justify-content: center;
          gap: 30px;
          margin-top: 15px;
      }

      .stat {
          text-align: center;
      }

      .stat-number {
          font-size: 2em;
          font-weight: bold;
          color: #667eea;
      }

      .stat-label {
          color: #718096;
          font-size: 0.9em;
      }

      .footer {
          background: #2d3748;
          color: white;
          padding: 20px;
          text-align: center;
          font-size: 0.9em;
      }

      .footer a {
          color: #90cdf4;
          text-decoration: none;
          margin: 0 5px;
      }

      .footer a:hover {
          text-decoration: underline;
      }

      /* --- Responsive Adjustments for iPad and iPhone --- */

      /* General adjustments for screens smaller than 1024px (e.g., iPad portrait) */
      @media screen and (max-width: 1024px) {
          body {
              padding: 10px; /* Reduce overall padding */
          }
          .header h1 {
              font-size: 2em; /* Smaller header font */
          }
          .content {
              grid-template-columns: 1fr; /* Stack sections vertically */
              gap: 20px;
              padding: 20px;
          }
          .summary-stats {
              flex-direction: column; /* Stack summary stats vertically */
              gap: 15px;
          }
          .info-grid {
              grid-template-columns: 1fr 1fr; /* Keep 2 columns for info on iPad */
          }
          .question-row {
              flex-direction: column; /* Stack question text and radio buttons vertically */
              align-items: flex-start; /* Align items to the start */
              gap: 10px; /* Reduce gap */
          }
          .radio-group {
              justify-content: flex-start; /* Align radio buttons to the left */
          }
          .signature-canvas {
              height: 150px; /* Slightly smaller canvas height */
          }
      }

      /* Adjustments for screens smaller than 768px (e.g., iPhone, smaller tablets) */
      @media screen and (max-width: 768px) {
          .header h1 {
              font-size: 1.8em; /* Even smaller header font */
          }
          .form-info h2, .section-title, .signature-title {
              font-size: 1.2em; /* Smaller section titles */
          }
          .info-grid {
              grid-template-columns: 1fr; /* Stack info fields vertically */
          }
          .radio-group {
              flex-direction: column; /* Ensure radio options stack vertically */
              align-items: stretch; /* Stretch to fill width */
              gap: 8px; /* Smaller gap */
          }
          .radio-option {
              width: 100%; /* Make radio options take full width */
              justify-content: center; /* Center content within option */
              padding: 10px 15px; /* Adjust padding */
          }
          .btn {
              padding: 10px 20px; /* Smaller button padding */
              font-size: 15px; /* Smaller button font */
              margin: 5px; /* Adjust button margin */
          }
          .signature-canvas {
              height: 120px; /* Even smaller canvas height for phones */
          }
      }

      /* Print styles */
      @media print {
          body {
              background: white;
              padding: 0;
          }
          
          .container {
              box-shadow: none;
              border-radius: 0;
          }
          
          .action-buttons {
              display: none;
          }
          
          .content {
              grid-template-columns: 1fr;
          }
          
          .measures-section {
              page-break-inside: avoid;
          }
          
          .category-section {
              page-break-inside: avoid;
          }

          .footer {
              display: none;
          }

          /* Hide inline measures for print, as they are in the summary table */
          .measure-display {
              display: none !important;
          }
      }
@media print {
button, 
.no-print {
  display: none !important;
}
}
    </style>
    <!-- PDF Generation Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Sicherheits-Fragebogen</h1>
            <p>Beantworten Sie die folgenden Fragen mit Ja, Nein oder Nicht zutreffend</p>
        </div>

        <div class="form-info">
            <h2>Allgemeine Informationen</h2>
            <div class="info-grid">
                <div class="form-group">
                    <label for="datum">Datum:</label>
                    <input type="date" id="datum" name="datum">
                </div>
                <div class="form-group">
                    <label for="marktnummer">Marktnummer:</label>
                    <input type="text" id="marktnummer" name="marktnummer" placeholder="Marktnummer eingeben">
                </div>
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" placeholder="Name eingeben">
                </div>
                <div class="form-group">
                    <label for="sifa">SIFA:</label>
                    <input type="text" id="sifa" name="sifa" placeholder="SIFA eingeben">
                </div>
            </div>
        </div>

        <div class="content">
            <div class="questions-section">
                <h2 class="section-title">Fragen</h2>
                <div id="questions-container">
                    
                    <!-- 1.0 Gesamtmarkt -->
                    <div class="category-section">
                        <h3 class="category-title">1.0 Gesamtmarkt</h3>
                        
                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Tragen alle Personen im Markt festes, geschlossenes und flaches Schuhwerk entsprechend den Vorgaben?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-1" value="yes" onchange="handleAnswer(1, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-1" value="no" onchange="handleAnswer(1, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-1" value="na" onchange="handleAnswer(1, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-1" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind an den Automatiktüren, Rolltoren und Schnelllauftoren keine sichtbaren Beschädigungen erkennbar?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-2" value="yes" onchange="handleAnswer(2, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-2" value="no" onchange="handleAnswer(2, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-2" value="na" onchange="handleAnswer(2, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-2" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist die Aufzugsanlage geprüft und in einem ordnungsgemäßen Zustand (ohne sichtbare Beschädigungen und mit funktionsfähigen Schutzeinrichtungen)?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-3" value="yes" onchange="handleAnswer(3, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-3" value="no" onchange="handleAnswer(3, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-3" value="na" onchange="handleAnswer(3, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-3" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist die Leergutrücknahme in einem ordnungsgemäßen Zustand (Schutzeinrichtungen intakt, Einzugsstellen gesichert, keine Glasscherben)?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-4" value="yes" onchange="handleAnswer(4, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-4" value="no" onchange="handleAnswer(4, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-4" value="na" onchange="handleAnswer(4, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-4" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Leitern geprüft gemäß „Leitern und Tritte" (BGV D 36) bzw. GUV-VD360?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-5" value="yes" onchange="handleAnswer(5, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-5" value="no" onchange="handleAnswer(5, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-5" value="na" onchange="handleAnswer(5, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-5" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden aus dem Ordersatz geeignete Sicherheitsmesser verwendet?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-6" value="yes" onchange="handleAnswer(6, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-6" value="no" onchange="handleAnswer(6, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-6" value="na" onchange="handleAnswer(6, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-6" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind zur Zeit der Begehung keine sichtbaren Beschädigungen an Schaltern und Steckdosen vorhanden?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-7" value="yes" onchange="handleAnswer(7, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-7" value="no" onchange="handleAnswer(7, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-7" value="na" onchange="handleAnswer(7, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-7" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist der Gabelhubwagen in einem ordnungsgemäßen Zustand ohne sichtbare Beschädigungen?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-8" value="yes" onchange="handleAnswer(8, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-8" value="no" onchange="handleAnswer(8, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-8" value="na" onchange="handleAnswer(8, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-8" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist der elektrische Hubwagen geprüft und in einem ordnungsgemäßen Zustand (keine sichtbaren Beschädigungen, funktionsfähige Schutzeinrichtungen)?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-9" value="yes" onchange="handleAnswer(9, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-9" value="no" onchange="handleAnswer(9, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-9" value="na" onchange="handleAnswer(9, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-9" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Feuerlöscheinrichtungen frei zugänglich und nicht durch Ware, Displays oder sonstige Gegenstände blockiert?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-10" value="yes" onchange="handleAnswer(10, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-10" value="no" onchange="handleAnswer(10, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-10" value="na" onchange="handleAnswer(10, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-10" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Feuerlöscheinrichtungen geprüft, und werden die Prüffristen eingehalten?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-11" value="yes" onchange="handleAnswer(11, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-11" value="no" onchange="handleAnswer(11, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-11" value="na" onchange="handleAnswer(11, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-11" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Brandschutztüren frei von Zugestellungen und wird ihre Funktion nicht gestört?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-12" value="yes" onchange="handleAnswer(12, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-12" value="no" onchange="handleAnswer(12, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-12" value="na" onchange="handleAnswer(12, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-12" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Türhaltevorrichtungen und der Schließfolgeregler des Feuerschutzabschlusses in Ordnung?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-13" value="yes" onchange="handleAnswer(13, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-13" value="no" onchange="handleAnswer(13, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-13" value="na" onchange="handleAnswer(13, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-13" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Brandschutztüren ohne Beschädigungen?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-14" value="yes" onchange="handleAnswer(14, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-14" value="no" onchange="handleAnswer(14, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-14" value="na" onchange="handleAnswer(14, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-14" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist ein aktueller Flucht- und Rettungsplan vorhanden?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-15" value="yes" onchange="handleAnswer(15, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-15" value="no" onchange="handleAnswer(15, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-15" value="na" onchange="handleAnswer(15, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-15" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist die Notausgangsbeleuchtung ohne Defekte?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-16" value="yes" onchange="handleAnswer(16, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-16" value="no" onchange="handleAnswer(16, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-16" value="na" onchange="handleAnswer(16, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-16" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Notausgänge frei zugänglich und nicht zugestellt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-17" value="yes" onchange="handleAnswer(17, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-17" value="no" onchange="handleAnswer(17, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-17" value="na" onchange="handleAnswer(17, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-17" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Notausgänge und -ausstiege von innen ohne fremde Hilfe zu öffnen und nicht zugestellt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-18" value="yes" onchange="handleAnswer(18, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-18" value="no" onchange="handleAnswer(18, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-18" value="na" onchange="handleAnswer(18, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-18" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Führen die Notausgänge in sichere Bereiche?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-19" value="yes" onchange="handleAnswer(19, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-19" value="no" onchange="handleAnswer(19, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-19" value="na" onchange="handleAnswer(19, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-19" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Verkehrswege so beschaffen, dass kein Unfallrisiko durch Stolpern, Ausrutschen oder Umknicken besteht?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-20" value="yes" onchange="handleAnswer(20, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-20" value="no" onchange="handleAnswer(20, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-20" value="na" onchange="handleAnswer(20, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-20" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Treppen unbeschädigt und frei von Gegenständen?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-21" value="yes" onchange="handleAnswer(21, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-21" value="no" onchange="handleAnswer(21, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-21" value="na" onchange="handleAnswer(21, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-21" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Wird die passende persönliche Schutzausrüstung (z. B. Schutzbrille, Handschuhe) für Tätigkeiten mit Gefahrstoffen zur Verfügung gestellt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-22" value="yes" onchange="handleAnswer(22, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-22" value="no" onchange="handleAnswer(22, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-22" value="na" onchange="handleAnswer(22, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-22" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Befindet sich brennbares Material (z. B. Kisten, Kartons) in den Technik- oder Heizräumen?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-23" value="yes" onchange="handleAnswer(23, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-23" value="no" onchange="handleAnswer(23, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-23" value="na" onchange="handleAnswer(23, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-23" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden Technik- und Heizräume als Lagerräume genutzt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-24" value="yes" onchange="handleAnswer(24, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-24" value="no" onchange="handleAnswer(24, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-24" value="na" onchange="handleAnswer(24, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-24" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind Betriebsanweisungen gut zugänglich und werden Sicherheitsanweisungen eingehalten?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-25" value="yes" onchange="handleAnswer(25, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-25" value="no" onchange="handleAnswer(25, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-25" value="na" onchange="handleAnswer(25, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-25" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Liegen Steckverbindungen auf dem Boden?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-26" value="yes" onchange="handleAnswer(26, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-26" value="no" onchange="handleAnswer(26, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-26" value="na" onchange="handleAnswer(26, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-26" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- 2.0 Backstation -->
                    <div class="category-section">
                        <h3 class="category-title">2.0 Backstation</h3>
                        
                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Arbeitsgeräte an der Backstation (Backofen, Backbleche, Brotschneidemaschine) in einem ordnungsgemäßen Zustand?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-27" value="yes" onchange="handleAnswer(27, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-27" value="no" onchange="handleAnswer(27, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-27" value="na" onchange="handleAnswer(27, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-27" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist das freistehende Handwaschbecken ohne Beschädigungen?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-28" value="yes" onchange="handleAnswer(28, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-28" value="no" onchange="handleAnswer(28, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-28" value="na" onchange="handleAnswer(28, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-28" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Elektroleitungen intakt und bilden keine Stolperstellen?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-29" value="yes" onchange="handleAnswer(29, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-29" value="no" onchange="handleAnswer(29, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-29" value="na" onchange="handleAnswer(29, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-29" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Entspricht die Zuleitung der VDE-Norm?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-30" value="yes" onchange="handleAnswer(30, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-30" value="no" onchange="handleAnswer(30, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-30" value="na" onchange="handleAnswer(30, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-30" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist der Backhandschuh für die Backstation in einem ordnungsgemäßen Zustand (kein Verschleiß) und besitzt eine lange Stulpe?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-31" value="yes" onchange="handleAnswer(31, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-31" value="no" onchange="handleAnswer(31, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-31" value="na" onchange="handleAnswer(31, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-31" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind alle Heißgeräte (z. B. Heißtheken, Fritteusen) in technisch einwandfreiem Zustand?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-32" value="yes" onchange="handleAnswer(32, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-32" value="no" onchange="handleAnswer(32, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-32" value="na" onchange="handleAnswer(32, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-32" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- Fortsetzung mit allen weiteren Kategorien... -->
                    <!-- Ich füge hier die restlichen Kategorien hinzu -->

                    <!-- 3.0 Serviceabteilung -->
                    <div class="category-section">
                        <h3 class="category-title">3.0 Serviceabteilung</h3>
                        
                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Hängt der Hautschutzplan aus?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-33" value="yes" onchange="handleAnswer(33, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-33" value="no" onchange="handleAnswer(33, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-33" value="na" onchange="handleAnswer(33, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-33" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden Hautschutz- und Hautpflegeprodukte zur Verfügung gestellt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-34" value="yes" onchange="handleAnswer(34, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-34" value="no" onchange="handleAnswer(34, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-34" value="na" onchange="handleAnswer(34, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-34" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Arbeitsgeräte im Servicebereich in einem ordnungsgemäßen Zustand?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-35" value="yes" onchange="handleAnswer(35, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-35" value="no" onchange="handleAnswer(35, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-35" value="na" onchange="handleAnswer(35, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-35" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Glastüren und Glaswände in Augenhöhe gekennzeichnet?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-36" value="yes" onchange="handleAnswer(36, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-36" value="no" onchange="handleAnswer(36, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-36" value="na" onchange="handleAnswer(36, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-36" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden Schneidbretter und Messer regelmäßig gereinigt und farbcodiert verwendet?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-37" value="yes" onchange="handleAnswer(37, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-37" value="no" onchange="handleAnswer(37, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-37" value="na" onchange="handleAnswer(37, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-37" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden Schneidbretter mit Messereinschub verwendet?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-38" value="yes" onchange="handleAnswer(38, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-38" value="no" onchange="handleAnswer(38, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-38" value="na" onchange="handleAnswer(38, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-38" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden Messerhalter verwendet?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-39" value="yes" onchange="handleAnswer(39, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-39" value="no" onchange="handleAnswer(39, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-39" value="na" onchange="handleAnswer(39, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-39" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Convenience-Geräte in einem ordnungsgemäßen Zustand?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-40" value="yes" onchange="handleAnswer(40, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-40" value="no" onchange="handleAnswer(40, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-40" value="na" onchange="handleAnswer(40, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-40" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- 4.0 Kassenzone -->
                    <div class="category-section">
                        <h3 class="category-title">4.0 Kassenzone</h3>
                        
                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist der Fußraum frei von Gegenständen?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-41" value="yes" onchange="handleAnswer(41, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-41" value="no" onchange="handleAnswer(41, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-41" value="na" onchange="handleAnswer(41, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-41" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist der Fußboden im Kassenbereich in einem ordnungsgemäßen Zustand (ohne sichtbare Beschädigungen)?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-42" value="yes" onchange="handleAnswer(42, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-42" value="no" onchange="handleAnswer(42, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-42" value="na" onchange="handleAnswer(42, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-42" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die serienmäßig eingebauten Heizgeräte im Kassenraum nicht durch brennbares Material zugestellt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-43" value="yes" onchange="handleAnswer(43, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-43" value="no" onchange="handleAnswer(43, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-43" value="na" onchange="handleAnswer(43, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-43" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Kassenstühle in einem funktionsfähigen Zustand?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-44" value="yes" onchange="handleAnswer(44, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-44" value="no" onchange="handleAnswer(44, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-44" value="na" onchange="handleAnswer(44, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-44" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist das Transportband unbeschädigt und weist keine Lücke von über 5 mm auf?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-45" value="yes" onchange="handleAnswer(45, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-45" value="no" onchange="handleAnswer(45, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-45" value="na" onchange="handleAnswer(45, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-45" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- 5.0 Kühlhaus -->
                    <div class="category-section">
                        <h3 class="category-title">5.0 Kühlhaus</h3>
                        
                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist in den Kühlhäusern an der Beleuchtung die Überglocke vorhanden?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-46" value="yes" onchange="handleAnswer(46, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-46" value="no" onchange="handleAnswer(46, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-46" value="na" onchange="handleAnswer(46, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-46" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist die Notentriegelung vorhanden und in Ordnung?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-47" value="yes" onchange="handleAnswer(47, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-47" value="no" onchange="handleAnswer(47, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-47" value="na" onchange="handleAnswer(47, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-47" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Kühlhaustüren von innen mit dem Rettungswegschild ISO 7010 gekennzeichnet?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-48" value="yes" onchange="handleAnswer(48, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-48" value="no" onchange="handleAnswer(48, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-48" value="na" onchange="handleAnswer(48, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-48" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Funktioniert die Beleuchtung einwandfrei?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-49" value="yes" onchange="handleAnswer(49, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-49" value="no" onchange="handleAnswer(49, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-49" value="na" onchange="handleAnswer(49, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-49" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist die Notruf-Funktion (wenn vorhanden) in Ordnung und ohne Beschädigungen?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-50" value="yes" onchange="handleAnswer(50, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-50" value="no" onchange="handleAnswer(50, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-50" value="na" onchange="handleAnswer(50, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-50" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- 6.0 Lager -->
                    <div class="category-section">
                        <h3 class="category-title">6.0 Lager</h3>
                        
                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Schwerlastregale geprüft?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-51" value="yes" onchange="handleAnswer(51, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-51" value="no" onchange="handleAnswer(51, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-51" value="na" onchange="handleAnswer(51, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-51" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist der Anfahrschutz vorhanden?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-52" value="yes" onchange="handleAnswer(52, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-52" value="no" onchange="handleAnswer(52, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-52" value="na" onchange="handleAnswer(52, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-52" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist die Traglastangabe an den Schwerlastregalen vorhanden?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-53" value="yes" onchange="handleAnswer(53, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-53" value="no" onchange="handleAnswer(53, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-53" value="na" onchange="handleAnswer(53, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-53" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Befindet sich eine Absturzsicherung an der Rampe?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-54" value="yes" onchange="handleAnswer(54, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-54" value="no" onchange="handleAnswer(54, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-54" value="na" onchange="handleAnswer(54, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-54" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist die Absturzsicherung in einem ordnungsgemäßen Zustand (ohne sichtbare Beschädigungen und mit Kennzeichnung)?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-55" value="yes" onchange="handleAnswer(55, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-55" value="no" onchange="handleAnswer(55, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-55" value="na" onchange="handleAnswer(55, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-55" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist die Müll-/Papierpresse geprüft?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-56" value="yes" onchange="handleAnswer(56, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-56" value="no" onchange="handleAnswer(56, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-56" value="na" onchange="handleAnswer(56, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-56" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist die Müll-/Papierpresse in einem ordnungsgemäßen Zustand (keine sichtbaren Beschädigungen, intakte Schutzeinrichtungen, fester Stand)?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-57" value="yes" onchange="handleAnswer(57, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-57" value="no" onchange="handleAnswer(57, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-57" value="na" onchange="handleAnswer(57, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-57" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Verkehrswege so beschaffen, dass kein Risiko zum Stolpern, Ausrutschen oder Umknicken besteht?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-58" value="yes" onchange="handleAnswer(58, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-58" value="no" onchange="handleAnswer(58, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-58" value="na" onchange="handleAnswer(58, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-58" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- 7.0 Sozialräume -->
                    <div class="category-section">
                        <h3 class="category-title">7.0 Sozialräume</h3>
                        
                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Hängen im Sozialbereich die aktuellen aushangpflichtigen Gesetze, Unfallverhütungsvorschriften sowie die Brandschutzordnung Teil A aus?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-59" value="yes" onchange="handleAnswer(59, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-59" value="no" onchange="handleAnswer(59, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-59" value="na" onchange="handleAnswer(59, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-59" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Kaffeemaschine und andere hitzeentwickelnde Geräte auf einer nicht brennbaren Unterlage abgestellt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-60" value="yes" onchange="handleAnswer(60, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-60" value="no" onchange="handleAnswer(60, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-60" value="na" onchange="handleAnswer(60, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-60" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist der Erste-Hilfe-Koffer gut sichtbar an einer geeigneten Stelle montiert?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-61" value="yes" onchange="handleAnswer(61, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-61" value="no" onchange="handleAnswer(61, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-61" value="na" onchange="handleAnswer(61, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-61" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden ortsveränderliche elektrische Betriebsmittel (z. B. Leitungen, Steckverbindungen, Leuchten, Geräte) in angemessenen Zeitabständen geprüft?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-62" value="yes" onchange="handleAnswer(62, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-62" value="no" onchange="handleAnswer(62, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-62" value="na" onchange="handleAnswer(62, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-62" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- 8.0 Marktleiterbüro -->
                    <div class="category-section">
                        <h3 class="category-title">8.0 Marktleiterbüro</h3>
                        
                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Liegt eine aktuelle Liste sowie Prüfberichte prüfungsbedürftiger Einrichtungen vor?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-63" value="yes" onchange="handleAnswer(63, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-63" value="no" onchange="handleAnswer(63, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-63" value="na" onchange="handleAnswer(63, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-63" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist der Verbandskasten in einem ordnungsgemäßen Zustand?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-64" value="yes" onchange="handleAnswer(64, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-64" value="no" onchange="handleAnswer(64, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-64" value="na" onchange="handleAnswer(64, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-64" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Wird die "Dokumentation Erste Hilfeleistungen" geführt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-65" value="yes" onchange="handleAnswer(65, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-65" value="no" onchange="handleAnswer(65, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-65" value="na" onchange="handleAnswer(65, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-65" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind Maßnahmen getroffen, die den Anreiz zu Raubüberfällen vermindern (z. B. Türspion, feststehender Knauf)?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-66" value="yes" onchange="handleAnswer(66, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-66" value="no" onchange="handleAnswer(66, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-66" value="na" onchange="handleAnswer(66, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-66" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist die Tür während des Umgangs mit Zahlungsmitteln verschlossen?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-67" value="yes" onchange="handleAnswer(67, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-67" value="no" onchange="handleAnswer(67, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-67" value="na" onchange="handleAnswer(67, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-67" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden neue Mitarbeiter vor Aufnahme der Tätigkeit zum Thema Arbeitssicherheit und Brandschutz unterwiesen?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-68" value="yes" onchange="handleAnswer(68, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-68" value="no" onchange="handleAnswer(68, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-68" value="na" onchange="handleAnswer(68, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-68" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist während der gesamten Ladenöffnungszeit mindestens ein Mitarbeiter mit der Qualifikation zum Ersthelfer anwesend?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-69" value="yes" onchange="handleAnswer(69, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-69" value="no" onchange="handleAnswer(69, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-69" value="na" onchange="handleAnswer(69, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-69" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist während der gesamten Ladenöffnungszeit mindestens ein Mitarbeiter mit der Qualifikation als Brandschutzhelfer anwesend?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-70" value="yes" onchange="handleAnswer(70, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-70" value="no" onchange="handleAnswer(70, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-70" value="na" onchange="handleAnswer(70, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-70" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist ein Sicherheitsbeauftragter ausgebildet und bestellt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-71" value="yes" onchange="handleAnswer(71, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-71" value="no" onchange="handleAnswer(71, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-71" value="na" onchange="handleAnswer(71, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-71" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Wurde die Gefährdungsbeurteilung (GBO) erstellt und ist sie auf dem aktuellen Stand?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-72" value="yes" onchange="handleAnswer(72, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-72" value="no" onchange="handleAnswer(72, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-72" value="na" onchange="handleAnswer(72, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-72" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- 9.0 CO2 Kühleinrichtungen -->
                    <div class="category-section">
                        <h3 class="category-title">9.0 CO2 Kühleinrichtungen</h3>
                        
                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Wurden Personen, die sich im Bereich von Kühlanlagen oder Kühlhäusern aufhalten, unterwiesen?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-73" value="yes" onchange="handleAnswer(73, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-73" value="no" onchange="handleAnswer(73, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-73" value="na" onchange="handleAnswer(73, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-73" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind die Sensoren nicht mit Material oder sonstigen Gegenständen verstellt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-74" value="yes" onchange="handleAnswer(74, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-74" value="no" onchange="handleAnswer(74, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-74" value="na" onchange="handleAnswer(74, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-74" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind alle Sicherheitsvorrichtungen (Alarmleuchten, Kennzeichnungen, Kühlhaustüren) intakt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-75" value="yes" onchange="handleAnswer(75, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-75" value="no" onchange="handleAnswer(75, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-75" value="na" onchange="handleAnswer(75, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-75" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- 10.0 Praktikanten -->
                    <div class="category-section">
                        <h3 class="category-title">10.0 Praktikanten</h3>
                        
                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Wurde die Unterweisung von Praktikanten und Schüleraushilfen durchgeführt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-76" value="yes" onchange="handleAnswer(76, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-76" value="no" onchange="handleAnswer(76, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-76" value="na" onchange="handleAnswer(76, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-76" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Wurde die Unterweisung schriftlich dokumentiert?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-77" value="yes" onchange="handleAnswer(77, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-77" value="no" onchange="handleAnswer(77, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-77" value="na" onchange="handleAnswer(77, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-77" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Haben die Personen die Inhalte der Unterweisung verstanden?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-78" value="yes" onchange="handleAnswer(78, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-78" value="no" onchange="handleAnswer(78, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-78" value="na" onchange="handleAnswer(78, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-78" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- 11.0 Arbeitsmedizin -->
                    <div class="category-section">
                        <h3 class="category-title">11.0 Arbeitsmedizin</h3>
                        
                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Wird den Beschäftigten arbeitsmedizinische Vorsorge angeboten?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-79" value="yes" onchange="handleAnswer(79, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-79" value="no" onchange="handleAnswer(79, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-79" value="na" onchange="handleAnswer(79, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-79" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Sind Maßnahmen gegen Hauterkrankungen getroffen?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-80" value="yes" onchange="handleAnswer(80, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-80" value="no" onchange="handleAnswer(80, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-80" value="na" onchange="handleAnswer(80, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-80" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- 12.0 Psychische Belastung -->
                    <div class="category-section">
                        <h3 class="category-title">12.0 Psychische Belastung</h3>
                        
                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden Wünsche der Beschäftigten bei der Arbeitsplanung berücksichtigt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-81" value="yes" onchange="handleAnswer(81, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-81" value="no" onchange="handleAnswer(81, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-81" value="na" onchange="handleAnswer(81, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-81" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist die Pausenregelung umgesetzt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-82" value="yes" onchange="handleAnswer(82, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-82" value="no" onchange="handleAnswer(82, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-82" value="na" onchange="handleAnswer(82, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-82" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist ein Pausenraum vorhanden?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-83" value="yes" onchange="handleAnswer(83, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-83" value="no" onchange="handleAnswer(83, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-83" value="na" onchange="handleAnswer(83, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-83" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden Überstunden gering gehalten?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-84" value="yes" onchange="handleAnswer(84, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-84" value="no" onchange="handleAnswer(84, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-84" value="na" onchange="handleAnswer(84, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-84" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden regelmäßige Teambesprechungen durchgeführt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-85" value="yes" onchange="handleAnswer(85, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-85" value="no" onchange="handleAnswer(85, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-85" value="na" onchange="handleAnswer(85, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-85" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden neue Mitarbeiter eingearbeitet?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-86" value="yes" onchange="handleAnswer(86, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-86" value="no" onchange="handleAnswer(86, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-86" value="na" onchange="handleAnswer(86, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-86" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist eine Unterweisung zum Thema Brand- und Arbeitsschutz erfolgt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-87" value="yes" onchange="handleAnswer(87, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-87" value="no" onchange="handleAnswer(87, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-87" value="na" onchange="handleAnswer(87, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-87" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Hängt ein sogenanntes schwarzes Brett im Sozialraum oder Kassenbüro?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-88" value="yes" onchange="handleAnswer(88, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-88" value="no" onchange="handleAnswer(88, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-88" value="na" onchange="handleAnswer(88, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-88" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden Entscheidungen transparent erläutert?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-89" value="yes" onchange="handleAnswer(89, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-89" value="no" onchange="handleAnswer(89, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-89" value="na" onchange="handleAnswer(89, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-89" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Gibt es positive Rückmeldungen bei guter Leistung?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-90" value="yes" onchange="handleAnswer(90, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-90" value="no" onchange="handleAnswer(90, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-90" value="na" onchange="handleAnswer(90, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-90" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Wird konstruktive Kritik geübt?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-91" value="yes" onchange="handleAnswer(91, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-91" value="no" onchange="handleAnswer(91, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-91" value="na" onchange="handleAnswer(91, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-91" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Wurden Weiterbildungsmöglichkeiten geschaffen bzw. angeboten?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-92" value="yes" onchange="handleAnswer(92, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-92" value="no" onchange="handleAnswer(92, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-92" value="na" onchange="handleAnswer(92, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-92" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Gibt es einen Aushang zur Information über die Suchtprävention?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-93" value="yes" onchange="handleAnswer(93, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-93" value="no" onchange="handleAnswer(93, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-93" value="na" onchange="handleAnswer(93, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-93" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist ein betriebliches Wiedereingliederungsmanagement implementiert?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-94" value="yes" onchange="handleAnswer(94, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-94" value="no" onchange="handleAnswer(94, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-94" value="na" onchange="handleAnswer(94, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-94" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Wird Alleinarbeit vermieden?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-95" value="yes" onchange="handleAnswer(95, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-95" value="no" onchange="handleAnswer(95, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-95" value="na" onchange="handleAnswer(95, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-95" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Ist die Betreuung nach einem Überfall organisiert?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-96" value="yes" onchange="handleAnswer(96, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-96" value="no" onchange="handleAnswer(96, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-96" value="na" onchange="handleAnswer(96, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-96" style="display: none;"></div>
                        </div>

                        <div class="question">
                            <div class="question-row">
                                <div class="question-text">Werden Schulungen für den Umgang mit gewalttätigen Situationen ermöglicht?</div>
                                <div class="radio-group">
                                    <label class="radio-option yes">
                                        <input type="radio" name="question-97" value="yes" onchange="handleAnswer(97, 'yes')">
                                        <span>Ja</span>
                                    </label>
                                    <label class="radio-option no">
                                        <input type="radio" name="question-97" value="no" onchange="handleAnswer(97, 'no')">
                                        <span>Nein</span>
                                    </label>
                                    <label class="radio-option na">
                                        <input type="radio" name="question-97" value="na" onchange="handleAnswer(97, 'na')">
                                        <span>Nicht zutreffend</span>
                                    </label>
                                </div>
                            </div>
                            <div class="measure-display" id="measure-display-97" style="display: none;"></div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="measures-section">
                <h2 class="section-title">Erforderliche Maßnahmen (Zusammenfassung)</h2>
                <div id="measures-container">
                    <div class="no-measures">
                        Keine Maßnahmen erforderlich.<br>
                        Beantworten Sie die Fragen, um Maßnahmen zu sehen.
                    </div>
                </div>
            </div>

            <div class="summary">
                <h3>Zusammenfassung</h3>
                <div class="summary-stats">
                    <div class="stat">
                        <div class="stat-number" id="total-questions">97</div>
                        <div class="stat-label">Fragen gesamt</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number" id="answered-questions">0</div>
                        <div class="stat-label">Beantwortet</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number" id="measures-count">0</div>
                        <div class="stat-label">Maßnahmen</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Unterschriftenfeld -->
        <div class="signature-section">
            <h2 class="signature-title">Unterschrift</h2>
            <p style="margin-bottom: 15px; color: #718096;">Bitte unterschreiben Sie hier mit dem Apple Pencil oder Finger:</p>
            <canvas id="signature-canvas" class="signature-canvas" width="500" height="200"></canvas>
            <div class="signature-controls">
                <button class="btn btn-secondary" onclick="clearSignature()">🗑️ Löschen</button>
                <button class="btn" onclick="saveSignature()">💾 Speichern</button>
            </div>
        </div>

       <!-- Action Buttons am Ende -->
<div class="action-buttons">
    <h3 style="margin-bottom: 20px; color: #2d3748;">Export-Optionen</h3>

    <!-- Maßnahmen-PDF generieren -->
    <button class="btn btn-success" onclick="generateMeasuresDocument()">📋 Maßnahmen-PDF</button>

    <!-- Drucken -->
    <button class="btn btn-secondary" onclick="printForm()">🖨️ Drucken</button>

    <!-- PDF teilen (öffnet Share-Menü auf iPad) -->
    <button class="btn btn-primary" onclick="shareForm()">📤 Formular teilen</button>
</div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>
            © <span id="currentYear"></span> Andreas Zott. Alle Rechte vorbehalten.
            <a href="datenschutz.html" rel="noopener noreferrer" target="_blank">Datenschutz</a> |
            <a href="impressum.html" rel="noopener noreferrer" target="_blank">Impressum</a>
        </p>
    </footer>

    <script>
        // Fügt automatisch das aktuelle Jahr ein
        document.getElementById("currentYear").textContent = new Date().getFullYear();

        // Maßnahmen-Definitionen für alle Fragen
        const measures = {
            1: { text: "Schuhwerk-Richtlinien durchsetzen und Mitarbeiter über korrekte Arbeitsschuhe informieren", priority: "medium" },
            2: { text: "Türen und Tore durch Fachfirma reparieren lassen und regelmäßige Wartung sicherstellen", priority: "high" },
            3: { text: "Aufzug durch zertifizierten Sachverständigen prüfen lassen und Reparaturen durchführen", priority: "high" },
            4: { text: "Leergutrücknahme-Anlage instand setzen, Schutzeinrichtungen reparieren und Glasscherben entfernen", priority: "high" },
            5: { text: "Leitern durch Sachkundigen prüfen lassen und Prüfprotokoll erstellen", priority: "medium" },
            6: { text: "Geeignete Sicherheitsmesser aus dem Ordersatz beschaffen und Verwendung schulen", priority: "medium" },
            7: { text: "Beschädigte Schalter und Steckdosen durch Elektrofachkraft reparieren lassen", priority: "high" },
            8: { text: "Gabelhubwagen reparieren oder ersetzen und regelmäßige Wartung durchführen", priority: "medium" },
            9: { text: "Elektrischen Hubwagen durch Sachverständigen prüfen lassen und Reparaturen durchführen", priority: "high" },
            10: { text: "Zugangswege zu Feuerlöscheinrichtungen freiräumen und dauerhaft freihalten", priority: "high" },
            11: { text: "Feuerlöscheinrichtungen durch Fachfirma prüfen lassen und Prüffristen einhalten", priority: "high" },
            12: { text: "Brandschutztüren freiräumen und Mitarbeiter über Freihaltung schulen", priority: "high" },
            13: { text: "Türhaltevorrichtungen und Schließfolgeregler durch Fachfirma reparieren lassen", priority: "high" },
            14: { text: "Beschädigte Brandschutztüren durch Fachfirma reparieren oder ersetzen lassen", priority: "high" },
            15: { text: "Aktuellen Flucht- und Rettungsplan erstellen und gut sichtbar aushängen", priority: "high" },
            16: { text: "Defekte Notausgangsbeleuchtung reparieren und regelmäßige Funktionsprüfung durchführen", priority: "high" },
            17: { text: "Notausgänge freiräumen und dauerhaft freihalten, Mitarbeiter schulen", priority: "high" },
            18: { text: "Notausgänge entriegeln, Öffnungsmechanismus prüfen und Zugänglichkeit sicherstellen", priority: "high" },
            19: { text: "Fluchtwegeführung überprüfen und sichere Sammelpunkte definieren", priority: "high" },
            20: { text: "Verkehrswege instand setzen, rutschfeste Beläge anbringen und Stolperstellen beseitigen", priority: "medium" },
            21: { text: "Treppen reparieren, freiräumen und regelmäßige Kontrolle durchführen", priority: "medium" },
            22: { text: "Geeignete PSA beschaffen und Mitarbeiter in der Verwendung schulen", priority: "high" },
            23: { text: "Brennbares Material aus Technik- und Heizräumen entfernen und Lagerverbot durchsetzen", priority: "high" },
            24: { text: "Technik- und Heizräume räumen und alternative Lagermöglichkeiten schaffen", priority: "high" },
            25: { text: "Betriebsanweisungen aktualisieren, gut sichtbar aushängen und Einhaltung kontrollieren", priority: "medium" },
            26: { text: "Steckverbindungen ordnungsgemäß verlegen und Stolperstellen beseitigen", priority: "medium" },
            27: { text: "Arbeitsgeräte der Backstation warten und reparieren lassen", priority: "medium" },
            28: { text: "Handwaschbecken reparieren oder ersetzen", priority: "medium" },
            29: { text: "Elektroleitungen durch Fachkraft prüfen und ordnungsgemäß verlegen lassen", priority: "high" },
            30: { text: "Zuleitung durch Elektrofachkraft VDE-konform erneuern lassen", priority: "high" },
            31: { text: "Neue Backhandschuhe mit langer Stulpe beschaffen", priority: "medium" },
            32: { text: "Heißgeräte durch Fachfirma warten und reparieren lassen", priority: "high" },
            33: { text: "Hautschutzplan erstellen und gut sichtbar aushängen", priority: "medium" },
            34: { text: "Hautschutz- und Hautpflegeprodukte beschaffen und bereitstellen", priority: "medium" },
            35: { text: "Arbeitsgeräte im Servicebereich warten und reparieren lassen", priority: "medium" },
            36: { text: "Glastüren und Glaswände in Augenhöhe mit Sicherheitsmarkierungen versehen", priority: "medium" },
            37: { text: "Farbcodierte Schneidbretter und Messer beschaffen und Reinigungsplan erstellen", priority: "medium" },
            38: { text: "Schneidbretter mit Messereinschub beschaffen", priority: "low" },
            39: { text: "Geeignete Messerhalter beschaffen und installieren", priority: "low" },
            40: { text: "Convenience-Geräte warten und reparieren lassen", priority: "medium" },
            41: { text: "Fußraum an den Kassen freiräumen und Ordnung halten", priority: "low" },
            42: { text: "Fußboden im Kassenbereich reparieren oder erneuern", priority: "medium" },
            43: { text: "Brennbares Material von Heizgeräten entfernen und Sicherheitsabstand einhalten", priority: "high" },
            44: { text: "Defekte Kassenstühle reparieren oder ersetzen", priority: "low" },
            45: { text: "Transportband reparieren oder ersetzen, Lücken schließen", priority: "medium" },
            46: { text: "Überglocken an der Kühlhausbeleuchtung installieren", priority: "medium" },
            47: { text: "Notentriegelung installieren oder reparieren und Funktion prüfen", priority: "high" },
            48: { text: "Rettungswegschilder ISO 7010 an Kühlhaustüren anbringen", priority: "high" },
            49: { text: "Kühlhausbeleuchtung reparieren und regelmäßige Wartung durchführen", priority: "medium" },
            50: { text: "Notruf-Funktion reparieren und regelmäßige Funktionsprüfung durchführen", priority: "high" },
            51: { text: "Schwerlastregale durch Sachverständigen prüfen lassen", priority: "high" },
            52: { text: "Anfahrschutz für Regale installieren", priority: "medium" },
            53: { text: "Traglastangaben an allen Schwerlastregalen anbringen", priority: "medium" },
            54: { text: "Absturzsicherung an der Rampe installieren", priority: "high" },
            55: { text: "Absturzsicherung reparieren und ordnungsgemäß kennzeichnen", priority: "high" },
            56: { text: "Müll-/Papierpresse durch Sachverständigen prüfen lassen", priority: "medium" },
            57: { text: "Müll-/Papierpresse reparieren und Schutzeinrichtungen instand setzen", priority: "medium" },
            58: { text: "Verkehrswege im Lager instand setzen und Stolperstellen beseitigen", priority: "medium" },
            59: { text: "Aktuelle aushangpflichtige Unterlagen beschaffen und aushängen", priority: "medium" },
            60: { text: "Nicht brennbare Unterlagen für hitzeentwickelnde Geräte beschaffen", priority: "medium" },
            61: { text: "Erste-Hilfe-Koffer gut sichtbar und zugänglich montieren", priority: "high" },
            62: { text: "Prüfung ortsveränderlicher elektrischer Betriebsmittel durch Elektrofachkraft veranlassen", priority: "medium" },
            63: { text: "Aktuelle Liste und Prüfberichte erstellen und führen", priority: "medium" },
            64: { text: "Verbandskasten auffüllen und regelmäßig kontrollieren", priority: "high" },
            65: { text: "Dokumentation für Erste Hilfeleistungen einführen und führen", priority: "medium" },
            66: { text: "Sicherheitsmaßnahmen gegen Raubüberfälle installieren (Türspion, Sicherheitsknauf)", priority: "high" },
            67: { text: "Verfahren für sicheren Umgang mit Zahlungsmitteln etablieren und schulen", priority: "high" },
            68: { text: "Unterweisungsprogramm für neue Mitarbeiter zu Arbeitssicherheit und Brandschutz erstellen", priority: "high" },
            69: { text: "Ersthelfer ausbilden lassen und Anwesenheit während Öffnungszeiten sicherstellen", priority: "high" },
            70: { text: "Brandschutzhelfer ausbilden lassen und Anwesenheit während Öffnungszeiten sicherstellen", priority: "high" },
            71: { text: "Sicherheitsbeauftragten ausbilden lassen und offiziell bestellen", priority: "medium" },
            72: { text: "Gefährdungsbeurteilung erstellen oder aktualisieren", priority: "high" },
            73: { text: "Unterweisung für Personen im Bereich von CO2-Kühlanlagen durchführen", priority: "high" },
            74: { text: "CO2-Sensoren freiräumen und regelmäßige Kontrolle durchführen", priority: "high" },
            75: { text: "Sicherheitsvorrichtungen der CO2-Anlage reparieren und regelmäßig prüfen", priority: "high" },
            76: { text: "Unterweisungsprogramm für Praktikanten und Schüleraushilfen erstellen und durchführen", priority: "medium" },
            77: { text: "Dokumentationssystem für Unterweisungen einführen", priority: "medium" },
            78: { text: "Verständniskontrolle bei Unterweisungen durchführen und dokumentieren", priority: "medium" },
            79: { text: "Arbeitsmedizinische Vorsorge organisieren und Mitarbeitern anbieten", priority: "medium" },
            80: { text: "Präventionsmaßnahmen gegen Hauterkrankungen implementieren", priority: "medium" },
            81: { text: "Mitarbeiterwünsche systematisch in Arbeitsplanung einbeziehen", priority: "low" },
            82: { text: "Pausenregelung überarbeiten und konsequent umsetzen", priority: "medium" },
            83: { text: "Geeigneten Pausenraum einrichten", priority: "medium" },
            84: { text: "Überstundenmanagement implementieren und Überstunden reduzieren", priority: "medium" },
            85: { text: "Regelmäßige Teambesprechungen einführen und durchführen", priority: "low" },
            86: { text: "Strukturiertes Einarbeitungsprogramm für neue Mitarbeiter entwickeln", priority: "medium" },
            87: { text: "Unterweisung zu Brand- und Arbeitsschutz durchführen und dokumentieren", priority: "high" },
            88: { text: "Schwarzes Brett für Mitarbeiterinformationen installieren", priority: "low" },
            89: { text: "Kommunikationsprozess für transparente Entscheidungserläuterung etablieren", priority: "low" },
            90: { text: "System für positive Leistungsrückmeldungen einführen", priority: "low" },
            91: { text: "Schulung für Führungskräfte in konstruktiver Kritik durchführen", priority: "low" },
            92: { text: "Weiterbildungsprogramm für Mitarbeiter entwickeln und anbieten", priority: "low" },
            93: { text: "Informationsmaterial zur Suchtprävention aushängen", priority: "low" },
            94: { text: "Betriebliches Wiedereingliederungsmanagement einführen", priority: "medium" },
            95: { text: "Arbeitsorganisation überprüfen und Alleinarbeit minimieren", priority: "medium" },
            96: { text: "Betreuungskonzept für Überfallsituationen entwickeln", priority: "high" },
            97: { text: "Schulungen für Umgang mit gewalttätigen Situationen organisieren", priority: "medium" }
        };

        let answers = {};
        let activeMeasures = [];
        let isDrawing = false;
        let canvas, ctx;

        // Initialisierung
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('datum').value = today;
            updateSummary();
            initSignatureCanvas();
        });

        // Unterschriften-Canvas initialisieren
        function initSignatureCanvas() {
            canvas = document.getElementById('signature-canvas');
            ctx = canvas.getContext('2d');
            
            // Canvas-Größe für Retina-Displays anpassen
            const rect = canvas.getBoundingClientRect();
            const dpr = window.devicePixelRatio || 1;
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            ctx.scale(dpr, dpr);
            
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';

            // Touch-Events für iPad
            canvas.addEventListener('touchstart', startDrawing);
            canvas.addEventListener('touchmove', draw);
            canvas.addEventListener('touchend', stopDrawing);
            
            // Mouse-Events für Desktop
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
        }

        function startDrawing(e) {
            e.preventDefault();
            isDrawing = true;
            const pos = getEventPos(e);
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
        }

        function draw(e) {
            if (!isDrawing) return;
            e.preventDefault();
            const pos = getEventPos(e);
            ctx.lineTo(pos.x, pos.y);
            ctx.stroke();
        }

        function stopDrawing(e) {
            if (!isDrawing) return;
            e.preventDefault();
            isDrawing = false;
        }

        function getEventPos(e) {
            const rect = canvas.getBoundingClientRect();
            const clientX = e.clientX || (e.touches && e.touches[0].clientX);
            const clientY = e.clientY || (e.touches && e.touches[0].clientY);
            return {
                x: clientX - rect.left,
                y: clientY - rect.top
            };
        }

        function clearSignature() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function saveSignature() {
            const signatureData = canvas.toDataURL();
            localStorage.setItem('signature', signatureData);
            alert('Unterschrift gespeichert!');
        }

        // Antwort-Handler
        function handleAnswer(questionId, answer) {
            answers[questionId] = answer;
            const measureDisplay = document.getElementById(`measure-display-${questionId}`);
            
            if (answer === 'no') {
                if (!activeMeasures.find(m => m.questionId === questionId)) {
                    const measure = measures[questionId];
                    const questionText = document.querySelector(`input[name="question-${questionId}"]`).closest('.question-row').querySelector('.question-text').textContent;
                    
                    activeMeasures.push({
                        questionId: questionId,
                        question: questionText,
                        measure: measure.text,
                        priority: measure.priority
                    });
                }
                // Display the measure inline
                const measureData = measures[questionId];
                if (measureDisplay && measureData) {
                    const priorityText = {
                        'high': 'Hoch',
                        'medium': 'Mittel',
                        'low': 'Niedrig'
                    };
                    measureDisplay.innerHTML = `<strong>Maßnahme:</strong> ${measureData.text} <span class="measure-priority ${measureData.priority}">${priorityText[measureData.priority]}</span>`;
                    measureDisplay.style.display = 'block';
                }
            } else {
                activeMeasures = activeMeasures.filter(m => m.questionId !== questionId);
                // Hide the measure inline
                if (measureDisplay) {
                    measureDisplay.style.display = 'none';
                    measureDisplay.innerHTML = ''; // Clear content
                }
            }
            
            updateMeasuresTable(); // Keep this for the summary section
            updateSummary();
        }

        function updateMeasuresTable() {
            const container = document.getElementById('measures-container');
            
            if (activeMeasures.length === 0) {
                container.innerHTML = `
                    <div class="no-measures">
                        Keine Maßnahmen erforderlich.<br>
                        Alle Fragen wurden mit "Ja" beantwortet oder sind noch offen.
                    </div>
                `;
                return;
            }

            const priorityOrder = { 'high': 1, 'medium': 2, 'low': 3 };
            activeMeasures.sort((a, b) => priorityOrder[a.priority] - priorityOrder[b.priority]);

            let tableHTML = `
                <table class="measures-table">
                    <thead>
                        <tr>
                            <th>Frage</th>
                            <th>Erforderliche Maßnahme</th>
                            <th>Priorität</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            activeMeasures.forEach(measure => {
                const priorityText = {
                    'high': 'Hoch',
                    'medium': 'Mittel',
                    'low': 'Niedrig'
                };

                tableHTML += `
                    <tr>
                        <td>${measure.question}</td>
                        <td>${measure.measure}</td>
                        <td>
                            <span class="measure-priority ${measure.priority}">
                                ${priorityText[measure.priority]}
                            </span>
                        </td>
                    </tr>
                `;
            });

            tableHTML += `
                    </tbody>
                </table>
            `;

            container.innerHTML = tableHTML;
        }

        function updateSummary() {
            document.getElementById('total-questions').textContent = 97;
            document.getElementById('answered-questions').textContent = Object.keys(answers).length;
            document.getElementById('measures-count').textContent = activeMeasures.length;
        }

        // Helper function to add all questions and answers to the PDF
        function addQuestionsToPdf(pdf, yPos) {
            pdf.addPage();
            pdf.setFontSize(16);
            pdf.text('Alle Fragen und Antworten', 20, 20);
            yPos = 30;

            const categories = document.querySelectorAll('.category-section');
            categories.forEach(category => {
                const categoryTitle = category.querySelector('.category-title').textContent;
                if (yPos > 270) { // Check for page overflow before adding category title
                    pdf.addPage();
                    yPos = 20;
                }
                pdf.setFontSize(14);
                pdf.setFont(undefined, 'bold');
                pdf.text(categoryTitle, 20, yPos);
                yPos += 10;
                pdf.setFont(undefined, 'normal');

                const questions = category.querySelectorAll('.question');
                questions.forEach(questionDiv => {
                    const questionText = questionDiv.querySelector('.question-text').textContent;
                    const radioGroupName = questionDiv.querySelector('input[type="radio"]').name;
                    const selectedAnswerElement = document.querySelector(`input[name="${radioGroupName}"]:checked`);
                    const selectedAnswer = selectedAnswerElement ? selectedAnswerElement.value : 'Nicht beantwortet';

                    if (yPos > 260) { // Check for page overflow before adding question
                        pdf.addPage();
                        yPos = 20;
                    }
                    pdf.setFontSize(10);
                    const splitQuestion = pdf.splitTextToSize(`Frage: ${questionText}`, 170);
                    pdf.text(splitQuestion, 20, yPos);
                    yPos += splitQuestion.length * 5; // Adjust yPos based on lines of question text
                    
                    pdf.text(`Antwort: ${selectedAnswer}`, 25, yPos);
                    yPos += 10; // Space for answer
                    
                    // Add inline measure if 'no' was selected
                    if (selectedAnswer === 'no') {
                        const questionId = parseInt(radioGroupName.replace('question-', ''));
                        const measureData = measures[questionId];
                        if (measureData) {
                            const priorityText = {
                                'high': 'Hoch',
                                'medium': 'Mittel',
                                'low': 'Niedrig'
                            };
                            const measureLine = `Maßnahme: ${measureData.text} (Priorität: ${priorityText[measureData.priority]})`;
                            const splitMeasure = pdf.splitTextToSize(measureLine, 165);
                            pdf.setTextColor(229, 62, 62); // Red color for measures
                            pdf.text(splitMeasure, 30, yPos);
                            pdf.setTextColor(0); // Reset color
                            yPos += splitMeasure.length * 5;
                        }
                    }
                    yPos += 5; // Extra space between questions
                });
                yPos += 10; // Space after each category
            });
            return yPos;
        }


        // PDF-Generierung (für Download)
        async function generatePDF() {
            try {
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('p', 'mm', 'a4');
                
                // Titel
                pdf.setFontSize(20);
                pdf.text('Sicherheits-Fragebogen', 20, 20);
                
                // Datum und Informationen
                const datum = document.getElementById('datum').value;
                const marktnummer = document.getElementById('marktnummer').value;
                const name = document.getElementById('name').value;
                const sifa = document.getElementById('sifa').value;
                
                pdf.setFontSize(12);
                let yPos = 40;
                pdf.text(`Datum: ${datum}`, 20, yPos);
                pdf.text(`Marktnummer: ${marktnummer}`, 20, yPos + 10);
                pdf.text(`Name: ${name}`, 20, yPos + 20);
                pdf.text(`SIFA: ${sifa}`, 20, yPos + 30);
                
                yPos += 50;
                
                // Zusammenfassung
                pdf.setFontSize(16);
                pdf.text('Zusammenfassung', 20, yPos);
                yPos += 15;
                
                pdf.setFontSize(12);
                pdf.text(`Fragen gesamt: 97`, 20, yPos);
                pdf.text(`Beantwortet: ${Object.keys(answers).length}`, 20, yPos + 10);
                pdf.text(`Maßnahmen: ${activeMeasures.length}`, 20, yPos + 20);
                
                yPos += 40;
                
                // Maßnahmen
                if (activeMeasures.length > 0) {
                    pdf.setFontSize(16);
                    pdf.text('Erforderliche Maßnahmen', 20, yPos);
                    yPos += 15;
                    
                    pdf.setFontSize(10);
                    activeMeasures.forEach((measure, index) => {
                        if (yPos > 250) {
                            pdf.addPage();
                            yPos = 20;
                        }
                        
                        pdf.text(`${index + 1}. ${measure.measure}`, 20, yPos);
                        pdf.text(`Priorität: ${measure.priority === 'high' ? 'Hoch' : measure.priority === 'medium' ? 'Mittel' : 'Niedrig'}`, 20, yPos + 5);
                        yPos += 15;
                    });
                }

                // Add all questions and answers
                yPos = addQuestionsToPdf(pdf, yPos);
                
                // Unterschrift hinzufügen
                if (canvas) {
                    const signatureData = canvas.toDataURL('image/png');
                    pdf.addPage();
                    pdf.setFontSize(16);
                    pdf.text('Unterschrift', 20, 20);
                    pdf.addImage(signatureData, 'PNG', 20, 30, 100, 40);
                }
                
                // PDF speichern
                const filename = `Sicherheitsfragebogen_${marktnummer || 'unbekannt'}_${datum}.pdf`;
                pdf.save(filename);
                
            } catch (error) {
                console.error('PDF-Generierung fehlgeschlagen:', error);
                alert('PDF-Generierung fehlgeschlagen. Bitte versuchen Sie es erneut.');
            }
        }

        // Separate Maßnahmen-Dokument generieren
        async function generateMeasuresDocument() {
            if (activeMeasures.length === 0) {
                alert('Keine Maßnahmen vorhanden. Beantworten Sie zuerst einige Fragen mit "Nein".');
                return;
            }

            try {
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('p', 'mm', 'a4');
                
                // Titel
                pdf.setFontSize(20);
                pdf.text('Maßnahmen-Katalog', 20, 20);
                pdf.setFontSize(14);
                pdf.text('Erforderliche Sicherheitsmaßnahmen', 20, 30);
                
                // Datum und Informationen
                const datum = document.getElementById('datum').value;
                const marktnummer = document.getElementById('marktnummer').value;
                const name = document.getElementById('name').value;
                const sifa = document.getElementById('sifa').value;
                
                pdf.setFontSize(12);
                let yPos = 50;
                pdf.text(`Datum: ${datum}`, 20, yPos);
                pdf.text(`Marktnummer: ${marktnummer}`, 20, yPos + 8);
                pdf.text(`Name: ${name}`, 20, yPos + 16);
                pdf.text(`SIFA: ${sifa}`, 20, yPos + 24);
                
                yPos += 40;
                
                // Übersicht
                pdf.setFontSize(14);
                pdf.text('Übersicht', 20, yPos);
                yPos += 10;
                
                pdf.setFontSize(11);
                pdf.text(`Anzahl erforderlicher Maßnahmen: ${activeMeasures.length}`, 20, yPos);
                
                const priorityCounts = {
                    high: activeMeasures.filter(m => m.priority === 'high').length,
                    medium: activeMeasures.filter(m => m.priority === 'medium').length,
                    low: activeMeasures.filter(m => m.priority === 'low').length
                };
                
                pdf.text(`Hohe Priorität: ${priorityCounts.high}`, 20, yPos + 8);
                pdf.text(`Mittlere Priorität: ${priorityCounts.medium}`, 20, yPos + 16);
                pdf.text(`Niedrige Priorität: ${priorityCounts.low}`, 20, yPos + 24);
                
                yPos += 40;
                
                // Maßnahmen nach Priorität sortiert
                const priorityOrder = { 'high': 1, 'medium': 2, 'low': 3 };
                const sortedMeasures = [...activeMeasures].sort((a, b) => priorityOrder[a.priority] - priorityOrder[b.priority]);
                
                pdf.setFontSize(14);
                pdf.text('Detaillierte Maßnahmen', 20, yPos);
                yPos += 15;
                
                let currentPriority = '';
                
                sortedMeasures.forEach((measure, index) => {
                    // Neue Seite wenn nötig
                    if (yPos > 250) {
                        pdf.addPage();
                        yPos = 20;
                    }
                    
                    // Prioritäts-Überschrift
                    if (measure.priority !== currentPriority) {
                        currentPriority = measure.priority;
                        const priorityText = {
                            'high': 'HOHE PRIORITÄT',
                            'medium': 'MITTLERE PRIORITÄT',
                            'low': 'NIEDRIGE PRIORITÄT'
                        };
                        
                        pdf.setFontSize(12);
                        pdf.setFont(undefined, 'bold');
                        pdf.text(priorityText[measure.priority], 20, yPos);
                        yPos += 12;
                        pdf.setFont(undefined, 'normal');
                    }
                    
                    // Maßnahme
                    pdf.setFontSize(10);
                    pdf.text(`${index + 1}.`, 20, yPos);
                    
                    // Text umbrechen
                    const splitText = pdf.splitTextToSize(measure.measure, 160);
                    pdf.text(splitText, 30, yPos);
                    
                    yPos += splitText.length * 5 + 8;
                    
                    // Zusätzliche Informationen
                    pdf.setFontSize(9);
                    pdf.setTextColor(100);
                    pdf.text(`Bezug: ${measure.question.substring(0, 80)}...`, 30, yPos);
                    pdf.setTextColor(0);
                    
                    yPos += 15;
                });
                
                // Neue Seite für Unterschriften
                pdf.addPage();
                yPos = 30;
                
                pdf.setFontSize(16);
                pdf.text('Bestätigung und Unterschriften', 20, yPos);
                yPos += 20;
                
                pdf.setFontSize(12);
                pdf.text('Hiermit bestätige ich die Kenntnisnahme der erforderlichen Maßnahmen:', 20, yPos);
                yPos += 30;
                
                // Unterschriftenfelder
                pdf.text('Marktleiter/in:', 20, yPos);
                pdf.line(20, yPos + 15, 100, yPos + 15);
                pdf.text('Datum:', 120, yPos);
                pdf.line(120, yPos + 15, 180, yPos + 15);
                yPos += 40;
                
                pdf.text('SIFA:', 20, yPos);
                pdf.line(20, yPos + 15, 100, yPos + 15);
                pdf.text('Datum:', 120, yPos);
                pdf.line(120, yPos + 15, 180, yPos + 15);
                yPos += 40;
                
                // Unterschrift aus Canvas hinzufügen
                if (canvas) {
                    const signatureData = canvas.toDataURL('image/png');
                    pdf.text('Digitale Unterschrift:', 20, yPos);
                    pdf.addImage(signatureData, 'PNG', 20, yPos + 5, 80, 30);
                }
                
                // PDF speichern
                const filename = `Massnahmen_${marktnummer || 'unbekannt'}_${datum}.pdf`;
                pdf.save(filename);
                
                alert('Maßnahmen-Dokument wurde erfolgreich erstellt!');
                
            } catch (error) {
                console.error('Maßnahmen-Dokument-Generierung fehlgeschlagen:', error);
                alert('Maßnahmen-Dokument-Generierung fehlgeschlagen. Bitte versuchen Sie es erneut.');
            }
        }

        // Druckfunktion
        function printForm() {
            window.print();
        }

        // Safari Teilen-Funktion (mit allen Fragen und Antworten)
       async function shareForm() {
    try {
        const { jsPDF } = window.jspdf;
        const pdf = new jsPDF('p', 'mm', 'a4');

        // Titel
        pdf.setFontSize(20);
        pdf.text('Sicherheits-Fragebogen', 20, 20);

        // Formularinfos
        const datum = document.getElementById('datum').value;
        const marktnummer = document.getElementById('marktnummer').value;
        const name = document.getElementById('name').value;
        const sifa = document.getElementById('sifa').value;

        pdf.setFontSize(12);
        let yPos = 40;
        pdf.text(`Datum: ${datum}`, 20, yPos);
        pdf.text(`Marktnummer: ${marktnummer}`, 20, yPos + 10);
        pdf.text(`Name: ${name}`, 20, yPos + 20);
        pdf.text(`SIFA: ${sifa}`, 20, yPos + 30);

        yPos += 50;
        pdf.setFontSize(16);
        pdf.text('Zusammenfassung', 20, yPos);
        yPos += 15;

        pdf.setFontSize(12);
        pdf.text(`Fragen gesamt: 97`, 20, yPos);
        pdf.text(`Beantwortet: ${Object.keys(answers).length}`, 20, yPos + 10);
        pdf.text(`Maßnahmen: ${activeMeasures.length}`, 20, yPos + 20);
        yPos += 40;

        if (activeMeasures.length > 0) {
            pdf.setFontSize(16);
            pdf.text('Erforderliche Maßnahmen', 20, yPos);
            yPos += 15;

            pdf.setFontSize(10);
            activeMeasures.forEach((measure, index) => {
                if (yPos > 250) {
                    pdf.addPage();
                    yPos = 20;
                }

                pdf.text(`${index + 1}. ${measure.measure}`, 20, yPos);
                pdf.text(`Priorität: ${measure.priority === 'high' ? 'Hoch' : measure.priority === 'medium' ? 'Mittel' : 'Niedrig'}`, 20, yPos + 5);
                yPos += 15;
            });
        }

        // Add all questions and answers
        yPos = addQuestionsToPdf(pdf, yPos);

        if (canvas) {
            const signatureData = canvas.toDataURL('image/png');
            pdf.addPage();
            pdf.setFontSize(16);
            pdf.text('Unterschrift', 20, 20);
            pdf.addImage(signatureData, 'PNG', 20, 30, 100, 40);
        }

        // → PDF als Blob erzeugen
        const pdfBlob = pdf.output('blob');
        const pdfFile = new File([pdfBlob], `Sicherheitsfragebogen_${marktnummer || 'unbekannt'}_${datum}.pdf`, { type: 'application/pdf' });

        // Teilen nur möglich, wenn Web Share API mit Dateien unterstützt wird
        if (navigator.canShare && navigator.canShare({ files: [pdfFile] })) {
            await navigator.share({
                title: 'Sicherheits-Fragebogen',
                text: 'Hier ist der ausgefüllte Sicherheitsfragebogen als PDF.',
                files: [pdfFile]
            });
        } else {
            alert('Teilen wird auf diesem Gerät nicht unterstützt. PDF wird heruntergeladen.');
            const link = document.createElement('a');
            link.href = URL.createObjectURL(pdfBlob);
            link.download = pdfFile.name;
            link.click();
        }
    } catch (error) {
        console.error('Teilen fehlgeschlagen:', error);
        alert('Teilen fehlgeschlagen. Bitte erneut versuchen.');
    }
}
// Service Worker optional
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sicher/sw.js')
      .then(() => console.log("✅ Service Worker registriert"))
      .catch(err => console.error("❌ Service Worker Fehler:", err));
  });
}

</script>
</body>
</html>
